PPT块下的内容，是老师复习课提到的，占比80%，其余的地方也可能考，但是不会出大题。

作业能够独立自主的答对，分数>70

计算题不会超出作业题范围

记得2号3号的答疑

# 第一章 概述

## PPT

计算机网络定义的三个观点：广义的观点（计算机通信网络）、用户透明的观点（分布式计算机系统）、资源共享的观点（“以能够相互共享资源的方式互联起来的自治计算机系统的集合”）

资源共享的观点：资源共享（硬件、软件、数据），分布在不同地理位置的自治系统，遵循一定的规则——协议。

计算机网络的产生与发展：优缺点

1. 以单计算机为中心的联机系统（集中式控制）（缺点：主机负荷重、线路利用率低、可靠性差）。多点通信线路、集中器（前端处理机）
3. 分组交换网络（重点）

分组交换网络为主机直连方式，多主机为中心、网络结构从“主机—终端”转变为“主机—主机”、主机负责数据处理和通信工作。（**集中式变为了分布式**）

分为通信子网（负责数据传输，通信线路、网络互联设备（交换机，路由器，HUB等））和资源子网（负责信息处理，服务器、客户计算机）（**首次提出分层的概念**）

**以分组为单位进行存储转发**。分组的原因：减少中间结点的负担，减少中间结点存储转发时延，减少出错以后的重发成本。先存储再转发的原因：要进行差错检测，进行分段以后的重组，进行地址识别。

计算机网络分类（按覆盖范围、传输技术）

计算机网络的结构

| 总线形 | 所有结点都连接到一条共享总线上   |
| ------ | -------------------------------- |
| 树形   | 由根和叶结点组成                 |
| 环线   | 首尾相连的总线性结构             |
| 星形   | 中央结点通过点到点链路连接各结点 |
| 网状形 | 没有明晰的结构                   |



1. 物理结构
   1. 物理连接方式
   2. 拓扑结构 有哪几种结构，每种的特点
2. 逻辑结构
   1. 信道连接方式
   2. 数据传输方式 广播/点到点

广播式网络解决 **介质访问控制问题**

点到点式网络解决 **路由选择**

性能指标

**时延**让算的一般是发送时延、传播时延

发送/传输时延、传播时延、转发时延（排队时延+处理时延）

时延带宽积=传播时延*带宽 （以比特为单位的链路长度）

传输速率（信息传输速率+码元传输速率、比特率+波特率）

带宽（信道的最大传输速率）、吞吐量（传输的有效数据长度/传输的总时延）

## 课后题

一、填空

1. 局域网、城域网、广域网、个域网
2. 星形、树形、总线形、环形、网状结构
3. 发送的速率和数据的长度；信道的长度和传播的速率
4. 发送时延、传播时延、转发时延
5. 计算机网络、电信网络、有线电视网络
6. RFC
7. 数据、软件、硬件

二、选择

1. C
2. A
3. D
4. D
5. A
6. A
7. C

三、简答

(2)计算机网络的发展可以划分为几个阶段，各个阶段具体有哪些特点？（考试不会考这种题）

答：1是以单主机为中心的多终端连接系统（以单处理机为中心的联机网络、采用集中式的控制），2是分布式分组交换网络（分布式、通信子网+资源子网、以分组为单位进行存储转发），3是标准化网络阶段

(3)利用计算机网络可以共享哪些资源？

答：数据、硬件、软件

（4）计算机网络与分布式计算机系统之间的区别与联系是什么？

答：计算机网络是以资源共享为目的，分布式系统是以提高整体性能为目的；最终的表现是它们的软件、操作系统不同。

（5）计算机网络由什么部分组成？什么是通信子网和资源子网？试述这种层次结构的特点以及各层的作用是什么。

答：硬件上，有主机、终端、通信线路、通信设备；软件上有为了保证数据通信而设计的通信协议。通信子网：分组交换网络中负责数据传输的部分，包括通信线路、网络互联设备；资源子网：分组交换网络中负责信息处理的部分，包括服务器、客户计算机。

（8）局域网与广域网的主要特征是什么？

答：第一，局域网的拓扑结构比较明晰，常用星形拓扑结构，广域网错综复杂，使用网状拓扑结构；第二，局域网既可以使用点到点的传输方式，也可以使用广播式传播方式，而广域网只能使用点到点的传输方式。

（9）总线结构是否适合于广域网，为什么？

答：不合适，因为总线形拓扑结构只能使用广播式传输方式，而广域网不能使用广播式传输方式。

## 题

IEEE 802体系结构中，局域网结构是什么样的？

> 物理层+介质访问控制子层(MAC)+逻辑链路控制子层(LLC)

计算机网络和分布式系统的区别？

> 分布式计算机系统是在分布式计算机操作系统的支持下，进行分布式数据处理和各计算机之间的并行计算工作，也就是说各互连的计算机可以相互协调工作，共同完成一项任务，一个大型程序可以分布在多台计算机上并行运行。
> 计算机网络系统是在网络操作系统支持下，实现互连的计算机之间的资源共享，计算机网络系统中的各计算机通常是各自独立进行工作的。所以操作系统不同，而操作系统就是高层软件

（跨章节）分组交换网络阶段，将网络的分成了哪两个子层？对于开放式互动互联参考模型当中的7层，对于这两个请求如何划分的？

> 资源子网+通信子网
>
> 资源子网（传输层、会话层、表示层、应用层）
>
> 通信子网（物理层、数据链路层、网络层）

局域网络和广域网络的本质区别？

> 具体范围不同，连接节点数量不同，导致传输技术有很大差别。
>
> 局域网：广播式网络。广域网：点到点式网络

同样使用星形拓扑结构，中间设备是集线器和中间设备是交换机有什么区别(请简单说明点到点网络和广播式网络有什么区别)？（共享式以太网和交换式以太网有什么区别）

> 集线器使用的是广播式的方式；交换机使用的是点到点的方式。广播式网络是所有计算机共享一条通信信道，任一台计算机发出的信息可以直接被其他所有计算机接收，两台以上计算机同时发送会产生冲突。关键解决介质访问控制方法问题。
>
> 点到点式网络是一条线路连接两个网络互连设备（点到点）；一般情况下，两台计算机间的传输要经过多台网络互连设备；一般情况下，两台计算机间的传输有多条路径可供选择。关键解决路由选择问题。

# 第二章 网络体系结构

## PPT

网络分层 优点 、原则

网络体系结构元素

OSI参考模型



**怎么样描述网络体系结构（定义）**

计算机网络研究方法

1. 按功能抽象分层
2. 定义相邻层间接口
3. 定义相同层间通信的规则：协议

服务：每一层向上层提供的功能集合，包括两部分（自身和下层）

接口（服务访问点）

协议：对等实体间进行信息交换时必须遵守的规则。

数据单元DU、协议数据单元PDU、IDU、SDU

三种单元的关系，及组成部分

（N+1）PDU==（N）SDU

（PCI为什么要放在前面，PDU为什么有长度的限制，有哪些方面的限制）

1. 因为PCI包含了用于控制数据传输的协议控制信息，比如数据的长度，这信息对接收端正确接收、解析数据十分重要。
2. 为了保证传输的可靠性和效率，
3. 除了长度限制外，还有最大传输单元MTU、传输速率等限制，这些限制都是为了保证数据传输的质量和效率。

服务分类（面向连接服务+无连接服务）建立连接的本质：进行资源的预分配，通过资源的预分配保证一定的服务质量（面向连接的服务不一定好于无连接的服务，取决于底层）

服务原语（了解）

**开放系统互联参考模型（OSI、分层方法、每一层功能）**

七层的名字。（某一个功能是在哪层实现的、哪一个是网络层完成的功能、路由选择是哪一层实现的）**七层实现的功能需要背。**

下三层通信子网，上四层资源子网

**TCP/IP（与OSI关系，每一层的协议）**

## 课后题

1填空题

1. 体系结构
2. 开放系统互联参考模型
3. 网际层、传输层、应用层
4. **面向连接服务、无连接服务**
5. PDU

2选择题

1. C
2. C
3. D
4. B
5. C
6. B
7. B
8. A
9. A
10. D

3简答题

（1）什么是网络体系结构？请说出使用分层思想的理由

答：网络体系结构：为了完成计算机之间的通信合作，把各个计算机互联的功能划分成定义明确的层次，并规定对等实体进行通信的协议。这些层与协议的集合，被成为网络体系结构。

使用分层思想的理由：1各层独立，2灵活性好，3结构上分开，4易于实现和维护，5促进标准化。

（4）OSI网络参考模型定义了哪些数据单元

答：PDU SDU IDU

（5）有两个网络都可以提供可靠的面向连接的服务，其中一共提供可靠的字节流，一个提供可靠的报文流。这两者是否相同？请给出一个例子予以说明。

答：不相同。报文流传输：网络会保持对报文边界的跟踪；而字节流中不会。

例子：假设一个进程写入了100字节数据，然后又写入了另外100字节数据。对于报文流，接收方会收到两个报文，每个报文100字节。对于字节流，接收方将其视为一个200字节的整体。

（6）一个计算机网络系统有n层协议的层次结构。应用程序产生消息的长度为M字节，在每一层上需要加一个h字节的头部，请问这些头部需要占用多少比例的网络带宽？

答：$n*h/(b*h+M)$*100%

# 第三章 应用层 看笔记来看PPT

## PPT

> XX是否以C/S来工作，如果是，哪个是客户机，哪个是服务器
>
> 1. DNS：在DNS中，客户机是发起域名查询请求的计算机，服务器是负责域名解析的DNS服务器。客户机向DNS服务器发送域名查询请求，DNS服务器将对应的IP地址返回给客户机。
> 2. 电子邮件：在电子邮件中，客户机是发送和接收电子邮件的电子邮件客户端程序，服务器是提供电子邮件服务的邮件服务器。客户机通过SMTP（简单邮件传输协议）向邮件服务器发送电子邮件，通过POP3（邮局协议）或IMAP（Internet邮件访问协议）从邮件服务器接收电子邮件。
> 3. FTP：在FTP中，客户机是使用FTP协议上传和下载文件的计算机，服务器是提供FTP服务的FTP服务器。客户机通过FTP协议向FTP服务器发送文件上传请求，从FTP服务器下载文件。
> 4. WWW：在WWW中，客户机是使用Web浏览器访问网页的计算机，服务器是提供网页服务的Web服务器。客户机通过HTTP（超文本传输协议）向Web服务器发送网页请求，Web服务器将对应的网页内容返回给客户机，由Web浏览器进行显示。

> 为什么设计域名？域名的格式，域名是不是必须的，域名服务器是如何工作的？三个域名服务器各自的作用？域名的解析过程？
>
> 答：域名的设计是为了解决IP地址难以记忆和理解的问题，提高用户访问互联网的便利性。通过使用域名，用户可以更容易地访问网站和服务，而不需要记住复杂的IP地址。
>
> 域名的格式通常由一系列的层次组成，包括顶级域名（如.com、.net、.org等）和二级域名（如example.com、google.com等）。此外，还可以有三级域名、四级域名等，根据需要可以继续扩展。
>
> 域名不是必须的，互联网上的计算机也可以使用IP地址进行通信。但是，域名提供了更友好的方式来标识和访问网站和服务，易于理解和记忆。
>
> 域名服务器是对域名进行解析的服务器，可以将域名转换成相应的IP地址。域名服务器通常由多个节点组成，用于提高解析效率和可用性。
>
> 三个域名服务器各自的作用PPT有
>
> 域名的解析过程如下：
>
> 1. 客户端发出DNS查询请求，将需要解析的域名发送给本地DNS服务器（通常是ISP或DNS递归服务器的DNS服务器）。
> 2. 本地DNS服务器向根域名服务器发出查询请求，以获取相应的权威域名服务器的地址。
> 3. 根域名服务器返回相应的权威域名服务器的地址给本地DNS服务器。
> 4. 本地DNS服务器向权威域名服务器发出查询请求，以获取相应的IP地址。
> 5. 权威域名服务器返回相应的IP地址给本地DNS服务器。
> 6. 本地DNS服务器将IP地址返回给客户端，完成解析过程。
> 7. 如果本地DNS服务器没有缓存查询结果，则可以向其他DNS服务器查询以获取更详细的解析信息。

![image-20231231155604821](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20231231155604821.png)

> 电子邮件传输系统的组成。电子邮件传送的三个阶段是什么？为什么在接收邮件是不用SMTP而用POP3？为什么在接收时不用POP3而用IMAP
>
> 答：电子邮件传输系统由三个主要部分组成：用户代理、邮件服务器和邮件发送和读取协议。其中，用户代理是用户与电子邮件系统的接口，用于撰写、显示、处理和通信。邮件服务器负责发送和接收邮件，并向发件人报告邮件传送的结果。而邮件发送和读取协议则包括SMTP和POP3等协议。
>
> 电子邮件的传送主要分为三个阶段：连接建立、邮件传输和连接终止。在接收邮件时，通常使用POP3（邮局协议）或IMAP（Internet邮件访问协议）协议。
>
> SMTP（简单邮件传输协议）使用TCP/IP协议族，通过SMTP协议所指定的服务器，可以将E-mail寄到收信人的服务器上。SMTP协议是一种客户端/服务器协议，其中客户端使用电子邮件客户端软件（如Outlook、Thunderbird或Gmail等），而服务器通常是用户的邮箱提供商服务器。
>
> POP3（邮局协议）是一种用于从邮件服务器接收电子邮件的协议。POP3连接通常在电子邮件客户端与邮件服务器间建立，以便用户能够从他们的邮件服务器中接收邮件。当用户直接发送一份邮件时，邮件服务器不会直接发送该邮件到收件人的邮箱，而是把该邮件存储到邮件服务器上，并通知用户，用户可以通过POP3协议来拉取邮件。同时，用户可以在本地计算机上保存和编辑邮件，而无需频繁地访问邮件服务器。
>
> 至于为何在接收邮件时不用SMTP而用POP3，是因为POP3协议更加适合接收邮件。POP3允许用户在收到邮件后保存邮件并在本地计算机上进行编辑，而SMTP协议只负责将电子邮件从原始发送方传递到最终收件方所在的邮箱服务器上，并未保存任何邮件。
>
> **SMTP不具备强认证的机制，不具备远程邮箱的操作能力。**
>
> IMAP（Internet邮件访问协议）则是一种更先进的邮件接收协议，它提供了更多的功能和更好的用户体验。IMAP可以让你在阅读完所有的邮件到达时间、主题、发件人、大小等信息后才做出是否下载的决策，速度大大提升。如果根据摘要信息就可以决定某些邮件对你毫无用处，你可以直接在服务器上把这些邮件删除掉。总体来说，IMAP比POP3更加便捷、智能、快速、稳定，IMAP通过多个客户端与服务器多处同步，在为用户提供更加便利的邮件服务的同时，还大大提高了收发、阅读邮件的速度。



## 课后题

**1填空题**

1. TCP、TCP
2. TCP、UDP
3. TCP和UDP（或者UDP，因为TCP只在DNS域名服务器和备份域名服务器进行同步时使用）
4. 客户端
5. 动态网页会随着时间或者用户的身份返回不同的结果；静态网页不会。
6. 递归查询、迭代查询
7. 协议、地址（域名/IP地址+端口号）、文件和路径名
8. 活动网页返回的是一个程序，最终显示结果是需要在客户端的浏览器加载才能显示。动态网页的返回会与时间和用户相关联。
9. POP是离线的，将邮件下载到本地进行操作，IMAP是在线进行操作的。
10. 集中式、分布式、混合式

**2选择题**

1. C
2. C
3. A
4. A
5. D
6. B
7. B
8. C

**3简答题**

（2）为什么HTTP、FTP、SMTP、POP、IMAP需要TCP的支持而不是UDP？

答：这些协议对可靠性、正确性要求较高，不能出错，因此需要使用面向连接的TCP，这些协议可以接受TCP三次握手带来的延迟。

（3）域名和IP地址的关系是什么？为什么要设计域名

答：域名是IP地址之上的以及的逻辑地址。原因：IP地址很重要，但是IP又不好记忆，为了方便记忆，设计了域名。

（4）DNS系统中，根域名服务器、本地域名服务器、授权域名服务器各完成什么样的功能。

答：根域名服务器：回答顶级域名的DNS查询请求，不负责解析特定的域名。本地域名服务器：响应终端用户设备（计算机、手机）的查询请求。授权域名服务器：负责管理特定域名的DNS服务器，存储了特定域名下主机记录的信息。

（5）说明域名解析过程中，递归方式和迭代方式的特点。

答：递归方式中，后续的查询是由根域名服务器来完成，加重了根域名服务器的负担，一般不采用。迭代方式中，后面的查询是由本地域名服务器来完成，减轻了根域名服务器的负担，整体的性能会更好。

（7）在电子邮件协议中为什么要引入MIME协议

答：电子邮件传输的内容只能是ASCII字符串，为了能够让电子邮件传输不同格式的文件并且在一个邮件中传输，引入了MIME协议。

（8）为什么发送邮件采用SMTP协议而接受邮件采用POP3或其他协议？

答：SMTP非常有效的解决了邮件的传输，对于资源的消耗比较小。问题是SMTP不具备强认证的机制，不具备远程邮箱的操作能力。

（13）URL包含哪些内容，其主要功能是什么?

答：协议+地址+文件、路径名。主要功能：定位和标识互联网上的资源，使用户或应用程序能够访问这些资源。

地址包括域名/IP地址+端口号

（14）浏览器的主要功能

答：代替客户端向WEB服务器发送请求和接收响应。把接收到的响应以及图形化界面展示给用户

（20）在客户机/服务器模式中，服务器是否能同时为多个用户提供服务，是如何实现的？

答：能，服务器在80端口上监听来自客户端的请求，每当它接收到一个客户的请求，并且进行后续的操作，它就会重新产生一个进程，来进行一对一的服务，所以它能够并行的服务。

# 第四章 传输层 看笔记来看PPT

## PPT

传输层的主要功能：1，向上层屏蔽通信子网的实现细节2，弥补上层提出要求和下层提供服务间的差异3，提供进程级别的访问能力

## 课后题

1填空题

1. 缺缓冲区造成的丢包率、平均队列长度，转发时延的变换
2. UDP、TCP
3. 端口号
4. 应用层
5. 字节
6. 传输层
7. 500
8. 1KB（阈值变为了20KB）
9. 端口号
10. 接收方窗口大小、拥塞窗口大小

2选择题

1. D
2. A
3. C(序号不能确定，但是确认序号可以确定)
4. C
5. B
6. C
7. B
8. C
9. D
10. C

3简答题

（2）传输层端口号一般有哪几种获取方式？

答：第一种是保留端口；第二种是双方约定端口；第三种是注册服务器的方式。

（3）什么是拥塞？拥塞产生的原因是什么？

答：拥塞：当网络上有太多包时，性能会下降。

产生的原因：多个输入对应一个输出；慢速处理器；低带宽线路。

（5）拥塞控制算法是否能从根本上杜绝拥塞的产生，为什么？

答：可以，比如采用虚电路的方式，但这样做的代价太大了，一般不采用。

（7）简述抑制分组法是如何解决拥塞的。

答：1监测网络的状态，能够及时的发现

2当出现拥塞时，向源结点报告拥塞的发生（发送抑制分组）

3源结点受到抑制分组以后，按照比例去减少发送的分组数

4一旦拥塞解除以后，需要恢复。

（8）既然UDP与IP一样提供无连接服务，能否让用户直接利用IP分组进行数据传递？

答：不能，IP分组不能实现**端口号复用**（传输层通过使用端口号来区分同一台主机上的不同应用程序）。

（10）TCP为什么要采用“三次握手”的方式进行连接的建立和断开？

答：保证连接的稳定性，特别是在客户机/服务器模式下，服务器进入半连接状态。

（13）TCP中的拥塞控制判定拥塞的标准是什么？发现拥塞后如何处理？

答：标准：假定由于分组受到损坏引起的丢失是非常少的(远少于1%)，因此，分组丢失就意味着发生了阻塞。

处理：采用慢启动拥塞避免算法，快速重传、快速恢复算法。

4计算题（过程在本上，重做了）

# 第五章 网络层

## PPT

网络层设计的焦点：采用面向连接（将差错控制和流量控制放在网络层（通信子网）来实现）的服务还是采用无连接（将差错控制和流量控制放在传输层来实现）的服务。

虚电路服务：面向连接，要先发送虚呼叫分组（通知目的主机建立联系，并进行路由选择），通过虚电路传输数据，用完以后释放虚电路。

数据报服务：无连接，每个分组独立进行路由选择。每个分组都包含目的主机地址。

### 路由算法

如何在源主机和目的主机之间找到一条最佳的路由。

路由表的结构：![image-20231226101305547](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20231226101305547.png)

特性：正确性、简单性、健壮性、稳定性、公平性、最优性。

分类：按转发方式和数据副本数量划分：

1. 全路路由算法：广播路由算法
2. 多路路由算法：多播路由算法
3. 单路路由算法：单播路由算法

按健壮性和简单性来划分

非自适应性算法：静态路由算法（使用静态路由表）

自适应性算法：动态路由算法（可根据网络流量和拓扑结构更新路由表）

分层路由

为了解决网络规模增长带来的路由表增大，路由器为路由选择带来的开销增大的问题。

选择将路由器分成区域，分而治之，

问题：路由表中的路由不一定是最佳路由。

**距离向量路由算法（动态）** 被ARPNET、RIP协议采用 路由环路问题 （路由表中包含到所有节点的以及最短距离，只与相邻的节点进行信息交换来更新表）

**链路状态路由算法（动态）** 被OSPF、IS-IS使用 问题：序号循环使用；路由器崩溃后，序号重置；序号出错。（路由表中包含到邻居节点的延迟，并与所有节点交换路由表，采用Dijkstra算法来计算）

路由器结构与常用交换方法

网络互联 解决的问题和分类

网络互联设备（采用哪一层的设备实现互联，则当前层和以下的层可采用不同的协议）



IPv4 

IP协议：

1. 无连接数据报传输
2. 数据报路由（IP路由）
3. 分组的分段和重组

IP地址 网络号+主机号

A类（1-127 网络号为前8位）B类（128-191 前16位）C类（192-223 前24位）D类（224-239）E类（240-247）

1. 主机号为全1的网络地址指定网络的广播地址
2. 主机号为全0的网络地址指定网络本身
3. 网络号为全0的网络地址表示本网络
4. 32位IP地址为全1的网络地址用于本网广播，该地址又被称为有限广播地址。
5. A类网络地址127是一个保留地址，用于网络测试以及本地机进程间通信，称为回送地址。

子网划分（分而治之）网络号+主机号	——》	 网络号+子网号+主机号

子网掩码 	（分离网络号和主机号）格式：32bit，网络号（包括子网号）部分全部为1，主机号部分全为0

子网掩码&IP地址=该IP地址的网络号。

主机之间要能够进行通信，它们必须在同一子网内，否则需要通过路由器/网关来实现互联。

IP分组的转发

路由表：![image-20231226110533440](C:/Users/lenovo/AppData/Roaming/Typora/typora-user-images/image-20231226110533440.png)

CIDR协议：解决IP地址即将用完的问题。（计算子网数目时不用减去全0和全1两个主机号）

基本思想：将剩余的C类地址分成大小可变的地址空间

CIDR思想可用于所有IP地址，没有A、B、C类之分

地址格式：a.b.c.d/x，x表示地址中网络部分的位数。

路由表格式保持不变

最长匹配原则：路由查找时，若多个路由表项匹配成功，选择掩码长（1比特数多）的路由表项

为满足CIDR的要求，C类的地址必须是连续的。C类地址的数量必须是2的指数。起始C类地址必须保证能被2的指数整除。

### IP分组格式

IP头包括20个字节的固定长度与变长部分（最多为40字节）

版本域（VERS）：长度为4bit，表示与IP分组对应的IP协议版本号

头部长度：IP分组头长度，范围：5-15，单位为32bit（4个字节）

服务类型域（不重要）

总长度域 单位为字节

标识域	分段标识MF 除最后一个段以外的段都要置该标识域。

段偏移量：除最后一个段之外的所有段长度必须是8字节（基本段长）的倍数

生存期：（TTL），IP包每经过一个路由器TTL-1，为0则丢弃，并给源主机发送一个告警包。

协议域：上层为哪种传输协议，TCP/UDP

头校验和：只对IP头做校验。算法：每16位求反，循环相加（进位加在末尾），和再求反。

源地址和目的地址。

选项：长度为4字节的倍数。

以下4个协议要求知道是干什么的，怎么干的，报文格式不要求

ARP（地址解析协议）协议：解决网络层（IP地址）与数据链路层（MAC地址）的映射问题。有ARP表。**完成从IP地址到物理地址的转换，使网络层与硬件及数据链路层隔离**

NAT（网络地址转换协议）协议：将内部网路IP地址替换为出口的IP地址提供公网可达性和上层协议的连接能力。有地址转换表。**用于解决私有网络与Internet网络互联的问题**

DHCP（动态地址配置协议）协议 **基于C/S模式提供了一种动态指定IP地址和参数配置的机制。**	基于UDP。 **手工、自动、动态**

ICMP（控制报文协议）协议	 **发送差错报告和控制信息。**

---

路由信息协议RIP 距离向量路由选择算法 **跳数**度量距离 	最大为16跳 只适用于小型互联网

定期与相邻路由器交换完整的路由表

主动的（路由器）、被动的（路由器、主机）

![image-20231226124547670](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20231226124547670.png)

内部网关路由协议：OSPF（开放最短路径优先）

网络类型：广播多路访问型、点到点型、非广播多路访问型。

链路状态广播数据包LSA（5类）

边界网关协议BGP（**在不同AS之间的路由器进行路由信息交换的协议**、TCP协议）

路径向量算法：每个边界网关向邻居路由器广播到目的节点完整路径

### IPv6

IP地址：32位-》128位

IPv6的首部长度为固定的40字节，只有8个字段。取消了首部的检验和字段

在基本首部后面允许多个扩展首部。

所有扩展首部和数据合起来叫做有效载荷/净载荷

格式要记

IPv6分组的目的地址：单播、多播、任播。

地址表示：冒号16进制。0000可用0表示，一串连续的0可用`::`表示

点分十进制记法后缀。CIDR的斜线表示法依然可用。

128位（类型前缀+地址的其他部分）两部分长度不固定

从IPv4到IPv6过渡的方案：双协议栈（**网络中的结点同时使用IPv4和IPv6协议栈**）、隧道技术（**将一种协议完全封装到另一种协议中的技术**）、IPv4/IPv6协议转换技术

ICMPv6 反馈差错

## 课后题

1填空题

1. 面向连接服务、无连接服务
2. 总线型、交叉开关型、共享存储器型
3. 2^12^-2
4. 数据链路、MAC地址
5. 255.255.248.0
6. C
7. 4个字节、字节
8. IP地址、MAC地址

2选择题

1. B
2. D
3. D
4. A
5. B
6. A
7. B
8. B
9. D
10. C
11. A
12. D

3简答题

（2）依据网络层是否提供网络连接，网络层向传输层提供的服务有哪两类？

答：面向连接服务和无连接服务。

（6）比较距离向量路由算法和链路状态路由算法在工作方式上的区别

答：距离向量路由算法：路由表中包含到所有节点的以及最短距离，只与相邻的节点进行信息交换来更新表。

链路状态路由算法：路由表中包含到邻居节点的延迟，并与所有节点交换路由表，采用Dijkstra算法来计算。

距离向量路由算法由于无限计算问题的存在，不适用于大规模网络。

（7）简述几种主要的网络设备的区别。

答：中继器是物理层设备，对弱信号进行放大或再生，以便延长传输距离。

网桥是数据链路层设备，在局域网之间存储转发帧，可以改变帧格式。

路由器是网络层设备，在网络之间存储转发包；必要时，做网络层协议转换。

网关（传输网关、应用网关）

（14）说明实现从IPv4到IPv6过渡的几种解决方案各自的特点。

答：双栈：使一部分主机/路由器拥有两个协议栈，一个IPv4，一个IPv6。

隧道技术

4计算题

# 第六章 数据链路控制

## PPT

设计数据链路层的原因：

1. 在原始的物理传输线路上传输数据信号是有差错的，存在一定的误码率。
2. 设计数据链路层的目的就是如何在有差错的线路上，进行无差错传输，向网络层提供高质量的服务
3. 从网络参考来看，物理层之上各层都有改善数据传输质量的要求，数据链路层是重要的一层。

各层的流量控制

+ 数据链路层：相邻结点之间的流量控制
+ 网络层：源结点到目的结点
+ 传输层：源端到目的端

帧边界划分：将比特流分成离散的帧	4种方法

差错控制 差错出现的原因、差错分类、目的、常见方法

**随机噪声引发：随机性差错。冲击噪声引发：突发性差错**

**帧出错、帧丢失**

检错码、纠错码、海明码、奇偶校验码、循环冗余校验码（CRC）（不会考计算，但是要注意余数的位数要跟生成多项式的最高次幂相等。注意发送的C(X)的表达式）

校验和算法，要知道具体的步骤（置0，分段，执行1的补码和运算，累加结果取反即为校验和，接收端执行同样操作，计算校验和为0则表示正确）

流量控制	目标、常用方法

三种ARQ协议

差错控制停等协议、连续ARQ协议（go-back-N ARQ）、 选择重传ARQ协议。

滑动窗口协议：

发送窗口	窗口大小为：没有收到接收方确认信息的情况下发送方最多可发送的帧个数

窗口帧的类型：已发送帧（未收到确认），允许发送帧（尚未发送的帧）

接收窗口	窗口大小为：允许连续接收未处理帧的个数，当到达帧的序号与接收窗口的序号一致时才能接收该帧。

窗口大小与序号关系	发送窗口W~T~,接收窗口W~R~。

全部重传协议：当W~T~=2^n^ 时会导致相邻两个窗口中的序号完全一致，当窗口中第一个帧的确认帧发送出错时，进行完全重发，接收端无法分别这是重传的帧还是新的帧。

选择性重传协议：为避免二义性：2W~R~<=2^n^,则W~R~<=2^n-1^

感觉两个都是通过考虑接收端发送的确认帧发送出错时，发送端需要重新发送的场景

![image-20231226143138521](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20231226143138521.png)

广播信道访问控制

点到点（广域网）、广播信道（局域网）

解决广播信道争用的协议称为介质访问控制协议（MAC）。

分配策略	静态、动态（令牌、ALOHA、CSMA、CSMA（载波监听多路访问协议）、CSMA/CD（带冲突检测的载波监听多路访问协议））

点对点数据链路协议 SLIP、PPP协议（以帧为单位发送，不是原始IP包）

点到点通信场景：路由器到路由器、通过modem拨号上网。

PPP：

1. 链路控制协议LCP	建立、配置和测试数据链路连接
2. 网络控制协议NCP    建立、配置不同网络层协议

PPP工作状态迁移

### 以太网

局域网的代表。

局域网的基本特征

数据链路层划分子层（LLC：逻辑链路控制子层，与介质、拓扑无关。MAC：介质访问控制子层，与介质、拓扑无关。）

Ethernet与IEEE 802.3略有差别（帧格式不同）

以太网物理层类型

传统以太网的介质访问控制方法（画图来作答）、二进制指数退避算法

以太网的帧格式

注意与IEEE802.3的区别，书P211有。

一堆以太网的改进，要明确改进了哪些部分。

网桥的定义与特征，工作原理，工作流程图

以太网交换机

虚拟局域网

无限局域网

CSMA/CA

## 课后题

1填空题

1. 位、帧
2. 检错、纠错；奇偶校验码，循环冗余校验码
3. 4
4. 011111001（如果问在信道当中传输的是说明，要加上开始和结束的01111110）
5. 4
6. LLC、MAC
7. 广播式、介质访问控制
8. CSMA/CD、CSMA/CA
9. 星形，广播式
10. 基于端口、基于MAC地址、基于网络层、基于IP组播

2选择题

1. C
2. B
3. C
4. D
5. B
6. B
7. B
8. C
9. C
10. D
11. A
12. C
13. B
14. A
15. A

3简答题

(1)不同意，理由：帧不一定是连续发送；就算帧是连续发送的，采用这种方式，一旦一个帧定界错误，则所有帧都将出错。

（4）因为数据链路层大部分采用的检错方法是CRC，CRC协议需要根据整个帧来计算检错码，若放在前面则需要在发送前遍历一遍整个帧；放在后面计算效率高。

（5）发送窗口的概念，尺寸的概念，限制的是什么。接收窗口的概念，尺寸的概念，限制的是什么。滑动的概念。

（9）其实就算广播式和点到点的区别

（12）无线局域网中冲突检测比较困难，存在隐藏结点与暴露结点问题。RTS是请求控制帧，表示发送者想占用信道发数据，CTS帧是清除发送控制帧，用于指明准备接收数据。

4计算题

# 第七章 数据通信与物理层

## PPT

傅里叶分析的结论：因为信道有带宽的限制，信号在传输过程中会引起失真。通过信道的谐波次数越多，信号就越逼真。（记住就行）

传送的信号脉冲频率越高（脉冲宽度越窄），要求信道的带宽就越大。

数据通信系统模型图

传输介质与传输信道的区别：传输介质是真正的物理载体；传输信道是利用这条物理介质在进行传输的时候，我们应该制定的一些规则，使他达到一定的性能。（介质不区分数字还是模拟，信道区分数字还是模拟）。

信息（原始）->数据（存储）->信号（在介质上传输）

信道：数字/模拟。原始信息：数字/模拟。一共有四种组合。 

（模拟到模拟是不要求的）

用数字信号承载数字或模拟数据——编码/解码

用模拟信号承载数字或模拟数据——调制/解调

数字信号到模拟信号(调制)、模拟信号到数字信号(解调) **为了提醒自己**

数字通信的优点：• 抗噪声（干扰）能力强• 可以控制差错，提高了传输质量• 便于用计算机进行处理• 易于加密、保密性强• 可以传输语音、数据、影像，通用、灵活

单工、半双工、全双工

曼切斯特编码具有自同步能力，它能从信号本身当中提取出信号的频率，这样接收方和发送方可采用相同的频率，能使每一位二进制位能够正确的接收和识别。

频带传输较基带传输的最大优点是传输距离长，可以传输数据、语音、图形图象。比如宽带局域网

常用的调制技术：幅移（ASK）、频移（FSK）、相移（PSK）

PCM编码基本步骤：采样、量化、编码

信道极限容量（信道带宽是有限的，对应的数据速率也是有限的）

尼奎斯特定理：规定在理想低通(没有噪声、带宽有限)的信道中，为了避免码间串扰，极限码元传输速率为2H波特，其中，H是理想低通信道的带宽。若用V表示每个码元离散电平的数目（指有多少种不同的码元，比如有16种，则需要4个二进制位，因此数据传输速率是码元传输速率的4倍）

公式为：$C=2Hlog~2V$

C:最大数据传输率，单位为bps，H：带宽，单位为HZ，V：信号电平级数

香农定理：给出了带宽受限且具有高斯白噪声干扰的信道的极限数据传输速率。

![image-20231228151849036](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20231228151849036.png)

传输介质：只要了解不同传输介质有什么差别。

> 双绞线的抗干扰性：在低频传输时接近于同轴电缆，在高频传输时劣于其他有限介质。
>
> 在传输距离和信号范围方面：光纤>同轴电缆>双绞线。
>
> 在价格方面（从贵到便宜）：光纤>同轴电缆>双绞线。
>
> 抗干扰性（从强到弱）：光纤>同轴电缆>双绞线。

有线介质、无线介质的特点需要了解

> 有线介质：上面三种。特点：需布线、抗干扰性好。
>
> 无限介质：通过大气进行各种形式的传播，如：微波、红外线、卫星信道。特点：无需布线，抗干扰性差。

信道复用技术 ：由于一条传输线路的能力远远超过传输一个用户信号所需的能力，为了提高线路利用率，经常让多个信号同时共用一条物理线路。

| 复用方法                       | 时分复用TDM            | 频分复用FDM        | 波分复用WDM        | 码分复用CDM        |
| ------------------------------ | ---------------------- | ------------------ | ------------------ | ------------------ |
| 哪种传输能力远大于单个信号要求 | **传输介质的位传输率** | **传输介质的带宽** | **传输介质的带宽** | **传输介质的带宽** |
| 用到的主要技术                 | **时间片轮转**         | **调制、解调**     |                    |                    |
| 适用场合                       |                        |                    |                    |                    |

时分复用（TDM）又分为同步时分复用（TDM）和统计(异步)时分复用（STDM）

波分复用WDM是频分复用的特殊形式

数据交换技术（理解）

> 交换：动态地设定通信双方间的线路，动态地接通或断开通信线路
>
> 交换方式分类：
>
> 电路交换（直接利用可切换的物理通信线路，连接通信双方。在发送数据前，必须建立起点到点的临时、专用的物理通路。建立物理通路时间较长，数据传送延迟较短。传输结束后需要拆除电路）
>
> 存储交换：报文交换（信息以报文为单位进行存储转发，特点：1线路利用率高2要求中间结点（网络通信设备）缓冲大3延迟时间长，中间结点，先存储再处理再转发，一般不采用）、分组交换（信息以分组为单位进行存储转发。分组：比报文还小的信息段，有最大长度的限制。需要解决路由选择和分组大小的确定）、信元交换（信元：大小固定的信息段）
>
> 混合交换

分组交换特点：1网络节点设备中不预先分配资源；2线路利用率高；3结点存储器利用率高；4易于重传，可靠性高；5易于开始新的传输，让紧急信息优先通过；6额外信息增加。

分组交换具体类型：数据报交换（datagram）和虚电路交换（virtual circuit）

数据报

+ 每个分组独立路由；
+ 适于传送少量分组，省去呼叫建立过程，速度快；
+ 可以较好处理拥塞；
+ 比较可靠。

虚电路

+ 所有分组只作一次路由；
+ 发送分组前需要建立虚电路；
+ 相对数据报，网络在处理拥塞时困难，不可靠。

物理层的功能：在两个网络设备之间提供**透明的比特流传输**

物理层的四个特性，定义哪些方面的规程

物理层提供**机械的**、**电气的**、**功能的**和**规程的**特性，目的是启动、维护和关闭数据链路实体之间进行比特传输的物理连接。这种连接可能通过中继系统，在中继系统内的传输也是在物理层的。

1. **机械特性**主要定义物理连接的边界点，即接插装置。规定物理连接时所采用的规格、引脚的数量和排列情况。
2. **电气特性**规定传输二进制位时，线路上信号的电压高低、阻抗匹配、传输速率和距离限制。
3. **功能特性**主要定义各条物理线路的功能。线路的功能：数据、控制、定时、地
4. **规程特性**说明了交换电路进行数据交换的一组操作序列。

## 课后题

# 第八章 网安

## PPT

## 无课后题（只有两分）

